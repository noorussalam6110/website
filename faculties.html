<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Noorussalam Madrasa â€” Faculties</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- AOS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <style>
    :root{
      --bg1: #07142d; --bg2: #0c2a55; --text: #eef4ff;
      --muted: #c8d3e6; --accent:#4da3ff; --gold:#ffd700; --wa:#25D366;
    }
    :root[data-theme="light"]{
      --bg1:#f6f9ff; --bg2:#e9f0ff; --text:#04263a; --muted:#556678; --accent:#0b61ff; --gold:#b88600; --wa:#0f8b4b;
    }
    html,body{height:100%; margin:0; font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{
      color:var(--text);
      background: linear-gradient(135deg,var(--bg1), var(--bg2));
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }

    /* header */
    header{ position:sticky; top:0; z-index:55; background: rgba(255,255,255,0.02); backdrop-filter: blur(6px); border-bottom:1px solid rgba(255,255,255,0.03); }
    .header-inner{ max-width:1100px; margin:0 auto; padding:10px; display:flex; gap:12px; align-items:center; justify-content:space-between; }
    .brand h1{ margin:0; font-size:1rem; }
    .brand p{ margin:0; color:var(--muted); font-size:0.85rem; }

    /* controls */
    .controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .search-box input{ border-radius:999px; padding:9px 12px; border:none; outline:none; background: rgba(255,255,255,0.03); color:var(--text); min-width:200px; box-shadow: 0 6px 20px rgba(0,0,0,0.25); }
    .small-btn{ background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); color:var(--text); padding:8px 10px; border-radius:8px; cursor:pointer; }
    .mode-toggle{ display:flex; gap:8px; align-items:center; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,0.04); cursor:pointer; background:transparent; color:var(--muted); }

    /* layout */
    main.wrapper{ max-width:1100px; margin:18px auto 80px; padding:0 12px; display:grid; grid-template-columns: 290px 1fr; gap:20px; align-items:start; }
    /* mobile: names list on top */
    @media(max-width:768px){ main.wrapper{ grid-template-columns:1fr; } .names-list { order: -1; } .floating-wa{ right:12px; bottom:12px; } }

    /* names list */
    .names-card{ background: rgba(255,255,255,0.03); padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.04); box-shadow: 0 8px 24px rgba(0,0,0,0.35); height:fit-content; }
    .names-list ul{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; }
    .name-link{
      display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border-radius:10px; text-decoration:none; color:var(--text);
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border:1px solid rgba(255,255,255,0.02);
      transition:transform .18s, box-shadow .18s, background .18s;
    }
    .name-link:hover, .name-link:focus { transform: translateX(6px); box-shadow: 0 10px 26px rgba(0,0,0,0.45); background: linear-gradient(180deg, rgba(77,163,255,0.06), rgba(77,163,255,0.02)); outline:none; }
    .name-link .role { color:var(--muted); font-size:0.85rem; margin-left:8px; }

    /* content placeholder (shows nothing until modal) */
    .content-area{ min-height:220px; display:flex; align-items:center; justify-content:center; background: rgba(255,255,255,0.015); border-radius:12px; border:1px solid rgba(255,255,255,0.02); padding:16px; }
    .content-area p{ color:var(--muted); text-align:center; margin:0; }

    /* modal profile */
    .modal-content{ border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.03); }
    .profile-grid{ display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap; }
    .profile-left{ flex:1 1 280px; min-width:220px; display:flex; flex-direction:column; align-items:center; gap:12px; }
    .profile-right{ flex:2 1 360px; min-width:260px; }
    .profile-photo{ width:220px; height:220px; border-radius:12px; object-fit:cover; border:4px solid var(--gold); box-shadow: 0 12px 34px rgba(255,215,0,0.12); }

    .wa-btn{ display:inline-flex; gap:8px; align-items:center; padding:10px 14px; border-radius:28px; background: linear-gradient(180deg,var(--wa), #18b155); color:#fff; text-decoration:none; font-weight:700; }

    /* slider nav */
    .slider-nav button{ background:rgba(0,0,0,0.38); border:0; color:#fff; width:46px; height:46px; border-radius:8px; }

    /* floating whatsapp & back to top */
    .floating-wa{ position:fixed; right:18px; bottom:18px; width:64px; height:64px; border-radius:50%; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,var(--wa), #18b155); box-shadow: 0 12px 30px rgba(0,0,0,0.38); z-index:999; color:#fff; text-decoration:none; }
    .floating-wa:hover{ transform:scale(1.04); }
    #backTop{ position:fixed; right:18px; bottom:96px; display:none; z-index:998; width:48px; height:48px; border-radius:50%; }

    /* small text utils */
    .muted { color:var(--muted); font-size:0.9rem; }
    .text-very-small { font-size:0.82rem; color:var(--muted); }

    /* focus-visible */
    :focus-visible { outline:3px solid rgba(77,163,255,0.12); outline-offset:3px; border-radius:6px; }

  </style>
</head>
<body>

  <!-- Particle canvas -->
  <canvas id="particleCanvas" style="position:fixed; inset:0; z-index:-5; pointer-events:none;"></canvas>

  <!-- Header -->
  <header>
    <div class="header-inner">
      <div class="brand">
        <h1>Noorussalam Madrasa</h1>
        <p>Our Faculties â€” tap a name to view profile</p>
      </div>

      <div class="controls">
        <div class="search-box">
          <input id="search" type="search" placeholder="Search teachersâ€¦" aria-label="Search teachers">
        </div>

        <button id="expandBtn" class="small-btn" title="Expand all (opens nothing here)"><i class="bi bi-list"></i></button>

        <button id="themeToggle" class="mode-toggle" title="Toggle dark / light mode" aria-pressed="false">
          <i id="themeIcon" class="bi bi-moon-fill" aria-hidden="true"></i>
          <span class="text-very-small" style="color:var(--muted)">Theme</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="wrapper" aria-live="polite">

    <!-- Names list -->
    <aside class="names-card names-list" aria-label="Teacher names">
      <h4 style="margin:0 0 8px 0; font-size:0.98rem;">Teachers</h4>
      <div class="text-very-small muted" style="margin-bottom:8px;">Click name to open profile</div>
      <ul id="namesUl" role="list" aria-label="List of teachers">
        <!-- Names will be rendered here by JS (for simplicity they are also hard-coded below) -->
        <li>
          <a href="#" class="name-link" data-profile='{"name":"SUHAIL P","role":"SWADAR MUALLIM","phone":"7034678818","about":"A passionate educator known for guiding students with care and commitment to moral and academic excellence.","images":["https://i.ibb.co/S77QvZ07/Whats-App-Image-2025-10-25-at-8-38-50-AM.jpg"]}'>
            <span>SUHAIL P</span>
            <span class="role muted">SWADAR MUALLIM</span>
          </a>
        </li>

        <li>
          <a href="#" class="name-link" data-profile='{"name":"FIROS FAIZY AK","role":"TEACHER","phone":"9645134854","about":"Dedicated to fostering a love for learning and nurturing discipline through compassionate teaching.","images":["https://i.ibb.co/3mXsbSdg/Whats-App-Image-2025-10-25-at-8-37-28-AM.jpg"]}'>
            <span>FIROS FAIZY AK</span>
            <span class="role muted">TEACHER</span>
          </a>
        </li>

        <li>
          <a href="#" class="name-link" data-profile='{"name":"DARIMI USTHAD","role":"TEACHER","phone":"8078055520","about":"An experienced teacher with deep knowledge of Islamic studies and a calm, inspiring teaching style.","images":["https://i.ibb.co/kWR6Z5B/AMEER.jpg"]}'>
            <span>DARIMI USTHAD</span>
            <span class="role muted">TEACHER</span>
          </a>
        </li>

        <li>
          <a href="#" class="name-link" data-profile='{"name":"FAIROOSUDHEEN ASLAMI","role":"TEACHER","phone":"9497349254","about":"Brings enthusiasm and innovation into the classroom, inspiring students to excel in academics and values.","images":["https://i.ibb.co/pvnbMsDr/FAIROOS.jpg"]}'>
            <span>FAIROOSUDHEEN ASLAMI</span>
            <span class="role muted">TEACHER</span>
          </a>
        </li>

        <!-- Add more teacher list items in same structure -->
      </ul>
    </aside>

    <!-- Content area (placeholder; modal used for full profile) -->
    <section class="content-area" aria-label="Content area">
      <p class="muted">Select a teacher name to view full profile (modal popup). Or use the search box above.</p>
    </section>

  </main>

  <!-- Profile Modal -->
  <div class="modal fade" id="profileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content p-3">
        <div class="modal-header border-0">
          <h5 id="modalTitle" class="modal-title"></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <div class="profile-grid">
            <div class="profile-left">
              <div class="slider" style="width:100%;">
                <img id="modalImage" class="profile-photo" src="" alt="profile photo">
                <div class="d-flex justify-content-between align-items-center slider-nav" style="width:100%; margin-top:8px;">
                  <button id="prevBtn" class="btn btn-sm"><i class="bi bi-chevron-left"></i></button>
                  <button id="nextBtn" class="btn btn-sm"><i class="bi bi-chevron-right"></i></button>
                </div>
              </div>
            </div>

            <div class="profile-right">
              <div id="modalRole" class="text-warning" style="font-weight:700;"></div>
              <div id="modalPhone" class="muted" style="margin-top:6px;"></div>
              <p id="modalAbout" style="margin-top:12px; color:var(--text);"></p>

              <div style="margin-top:12px; display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
                <a id="modalWa" class="wa-btn" href="#" target="_blank" rel="noopener noreferrer"><i class="bi bi-whatsapp"></i> Message on WhatsApp</a>
                <button id="openContact" class="small-btn">Call</button>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- Floating WhatsApp -->
  <a class="floating-wa" href="https://wa.me/7034678818" aria-label="WhatsApp contact">
    <i class="bi bi-whatsapp" style="font-size:1.35rem; color:#fff;"></i>
  </a>

  <!-- Back to top -->
  <button id="backTop" class="btn btn-primary" aria-label="Back to top" title="Back to top" style="display:none;">
    <i class="bi bi-chevron-up"></i>
  </button>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- AOS -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <script>
    AOS.init({ duration:700, once:true, easing:'ease-out-cubic' });

    // Particle canvas (light & subtle)
    (function(){
      const canvas = document.getElementById('particleCanvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let w = canvas.width = innerWidth;
      let h = canvas.height = innerHeight;
      const particles = [];
      const total = Math.max(12, Math.floor((w*h)/110000));

      function rand(a,b){ return Math.random()*(b-a)+a; }
      for(let i=0;i<total;i++){
        particles.push({ x:rand(0,w), y:rand(0,h), r:rand(0.8,3.2), vx:rand(-0.25,0.25), vy:rand(-0.12,0.12), a:rand(0.04,0.22) });
      }

      function draw(){
        ctx.clearRect(0,0,w,h);
        for(const p of particles){
          p.x += p.vx; p.y += p.vy;
          if(p.x < -10) p.x = w+10;
          if(p.x > w+10) p.x = -10;
          if(p.y < -10) p.y = h+10;
          if(p.y > h+10) p.y = -10;
          ctx.beginPath();
          ctx.fillStyle = 'rgba(77,163,255,'+p.a+')';
          ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
          ctx.fill();
        }
        requestAnimationFrame(draw);
      }
      window.addEventListener('resize', ()=>{ w=canvas.width=innerWidth; h=canvas.height=innerHeight; });
      draw();
    })();

    // ELEMENTS
    const namesUl = document.getElementById('namesUl');
    const search = document.getElementById('search');
    const backTop = document.getElementById('backTop');
    const profileModalEl = document.getElementById('profileModal');
    const profileModal = new bootstrap.Modal(profileModalEl, { keyboard:true });
    const modalTitle = document.getElementById('modalTitle');
    const modalImage = document.getElementById('modalImage');
    const modalRole = document.getElementById('modalRole');
    const modalPhone = document.getElementById('modalPhone');
    const modalAbout = document.getElementById('modalAbout');
    const modalWa = document.getElementById('modalWa');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    // slider state
    let sliderImgs = [];
    let slideIdx = 0;
    let autoplayTimer = null;
    function showSlide(i){
      if(!sliderImgs || sliderImgs.length===0) return;
      slideIdx = ((i%sliderImgs.length)+sliderImgs.length)%sliderImgs.length;
      modalImage.src = sliderImgs[slideIdx];
      modalImage.alt = modalTitle.textContent + ' â€” photo ' + (slideIdx+1);
    }
    function startAutoplay(){ clearInterval(autoplayTimer); autoplayTimer = setInterval(()=> showSlide(slideIdx+1), 3500); }
    function stopAutoplay(){ clearInterval(autoplayTimer); }

    prevBtn.addEventListener('click', ()=>{ showSlide(slideIdx-1); startAutoplay(); });
    nextBtn.addEventListener('click', ()=>{ showSlide(slideIdx+1); startAutoplay(); });
    modalImage.addEventListener('mouseenter', stopAutoplay);
    modalImage.addEventListener('mouseleave', startAutoplay);
    profileModalEl.addEventListener('hidden.bs.modal', stopAutoplay);

    // open profile from name-list or view buttons
    function openProfileFromData(data){
      modalTitle.textContent = data.name || '';
      modalRole.textContent = data.role || '';
      modalPhone.textContent = data.phone ? ('ðŸ“ž ' + data.phone) : '';
      modalAbout.textContent = data.about || '';
      modalWa.href = 'https://wa.me/' + (data.phone || '').replace(/\D/g,'');
      sliderImgs = Array.isArray(data.images) && data.images.length>0 ? data.images.slice() : ['https://i.ibb.co/3mXsbSdg/Whats-App-Image-2025-10-25-at-8-37-28-AM.jpg'];
      slideIdx = 0;
      showSlide(0);
      startAutoplay();
      profileModal.show();
    }

    // delegate click on names list
    namesUl.addEventListener('click', e=>{
      const a = e.target.closest('.name-link');
      if(!a) return;
      e.preventDefault();
      const json = a.getAttribute('data-profile');
      try{
        const data = JSON.parse(json);
        openProfileFromData(data);
      }catch(err){ console.error('Invalid profile JSON', err); }
    });

    // also connect any "View Profile" buttons if present (not used in this layout)
    document.querySelectorAll('[data-profile]').forEach(btn=>{
      btn.addEventListener('click', e=>{
        const json = btn.getAttribute('data-profile');
        try{ openProfileFromData(JSON.parse(json)); } catch(e){ console.error(e); }
      });
    });

    // search filter
    search.addEventListener('input', ()=>{
      const q = (search.value || '').trim().toLowerCase();
      document.querySelectorAll('#namesUl .name-link').forEach(link=>{
        const data = (link.textContent || '').toLowerCase();
        link.parentElement.style.display = data.includes(q) ? '' : 'none';
      });
    });

    // back to top
    window.addEventListener('scroll', ()=> backTop.style.display = (window.scrollY>380) ? 'block' : 'none' );
    backTop.addEventListener('click', ()=> window.scrollTo({ top:0, behavior:'smooth' }));

    // dark/light mode toggle (persist)
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    function applyTheme(t){
      if(t==='light'){ document.documentElement.setAttribute('data-theme','light'); themeIcon.className='bi bi-sun-fill'; themeToggle.setAttribute('aria-pressed','true'); localStorage.setItem('ns_theme','light'); }
      else { document.documentElement.removeAttribute('data-theme'); themeIcon.className='bi bi-moon-fill'; themeToggle.setAttribute('aria-pressed','false'); localStorage.removeItem('ns_theme'); }
    }
    const saved = localStorage.getItem('ns_theme');
    if(saved==='light') applyTheme('light'); else {
      if(window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) applyTheme('light');
      else applyTheme('dark');
    }
    themeToggle.addEventListener('click', ()=> applyTheme(document.documentElement.getAttribute('data-theme')==='light' ? 'dark' : 'light'));

    // keyboard accessibility: open profile with Enter on focused name-link
    document.querySelectorAll('.name-link').forEach(link=>{
      link.setAttribute('tabindex','0');
      link.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); link.click(); } });
    });

    // small tweak: ensure floating WA doesn't cover modal on small screens
    function adjustFloating(){ const f = document.querySelector('.floating-wa'); if(!f) return; if(window.innerWidth <=420){ f.style.right='8px'; f.style.bottom='8px'; } else { f.style.right='18px'; f.style.bottom='18px'; } }
    addEventListener('load', adjustFloating); addEventListener('resize', adjustFloating);

  </script>
</body>
</html>
