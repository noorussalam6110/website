<!DOCTYPE html>
<html>
<head>
<title>ID Card Generator</title>
<style>
body{font-family:Arial;background:#f7f7f7;text-align:center;}
.container{margin-top:30px;}
.card{background:white;width:350px;margin:auto;padding:15px;border-radius:8px;border:3px solid #d4af37;}
img{border-radius:8px;border:2px solid #d4af37;}
.table{width:100%;text-align:left;margin-top:10px;font-size:14px;}
.qr{margin-top:12px;}
.sign{display:flex;justify-content:space-between;margin-top:10px;}
</style>
</head>
<body>

<h2>Generate Student ID Card</h2>
<div class="container">
  <label>Select Class:</label>
  <select id="class"><option>1</option><option>2</option><option>3</option><option>4</option></select>
  <br><br>
  <label>Roll Number:</label>
  <input id="roll" type="number">
  <br><br>
  <button onclick="generate()">Submit</button>
</div>

<br>

<div class="card" id="card" style="display:none;">
  <h3 style="color:#b8860b;">NOORUSSALAM SECONDARY MADRASA</h3>
  <small>KAMBIPPALAM KERALA ESTATE - 676525 | PH: 7034678818</small>
  <hr>

  <img id="photo" width="100">

  <table class="table">
    <tr><td>Name</td><td id="name"></td></tr>
    <tr><td>Father</td><td id="father"></td></tr>
    <tr><td>Admission No</td><td id="admission"></td></tr>
    <tr><td>Class</td><td id="classv"></td></tr>
    <tr><td>Roll No</td><td id="rollv"></td></tr>
    <tr><td>Phone</td><td id="phone"></td></tr>
    <tr><td>UID</td><td id="uid"></td></tr>
  </table>

  <div class="qr">
    <img id="qr" width="100">
  </div>

  <div class="sign">
    <img src="https://i.ibb.co/WWdNrDyr/IMG-0125.png" width="90">
    <img src="https://i.ibb.co/Z6v3WKqN/IMG-0126.png" width="90">
  </div>
</div>

<script>
function generate(){
  fetch("https://script.google.com/macros/s/AKfycbzZoPRPX4ZYHxViMx8_0Rikq64YGmdmRYE-SO2SsD5oXz__j0i26JPQuUubk1FzDX5o/exec",{
    method:"POST",
    body:JSON.stringify({
      className: document.getElementById("class").value,
      roll: document.getElementById("roll").value
    })
  })
  .then(r=>r.json())
  .then(data=>{
    if(!data){ alert("Not Found"); return; }
    document.getElementById("card").style.display="block";
    document.getElementById("photo").src=data.photo;
    document.getElementById("name").innerText=data.name;
    document.getElementById("father").innerText=data.father;
    document.getElementById("admission").innerText=data.admission;
    document.getElementById("classv").innerText=data.class;
    document.getElementById("rollv").innerText=data.roll;
    document.getElementById("phone").innerText=data.phone;
    document.getElementById("uid").innerText=data.uid;
    document.getElementById("qr").src=https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=${encodeURIComponent("https://script.google.com/macros/s/AKfycbzZoPRPX4ZYHxViMx8_0Rikq64YGmdmRYE-SO2SsD5oXz__j0i26JPQuUubk1FzDX5o/exec?uid="+data.uid)};
  });
}
</script>

</body>
</html>
